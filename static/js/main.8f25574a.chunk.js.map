{"version":3,"sources":["gl/Fragments.tsx","gl/Effects.tsx","Bg.tsx","dom/Frame.tsx","dom/ExamplesSection.tsx","App.tsx","index.tsx"],"names":["randomRange","min","max","diff","Math","random","Particle","geometry","material","ref","useRef","x","y","z","d","sqrt","size","isMobile","useEffect","undefined","current","sx","sy","sz","scale","set","a","floor","PI","rotation","position","Fragments","count","scroll","groupRef","useResource","geometryRef","materialRef","useFrame","window","s","getValue","Date","now","args","Array","fill","map","_","index","key","Effects","composer","useThree","scene","gl","camera","setSize","width","height","render","attachArray","FXAAShader","material-uniforms-resolution-value","renderToScreen","extend","EffectComposer","ShaderPass","RenderPass","canvasStyle","top","left","zIndex","pointerEvents","Bg","background","THREE","useSpring","onScroll","useCallback","e","scrollY","interpolate","document","body","scrollHeight","innerHeight","addEventListener","removeEventListener","style","colors","Frame2","props","useState","borderColor","setBorderColor","boxShadow","setBoxShadow","interval","id","setInterval","color","length","clearInterval","className","onMapClick","area","tip","href","console","log","location","replace","links","mapArea","ExamplesSection","src","shader","App","pixelRatio","vhCheck","process","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.8f25574a.chunk.js","sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport { useFrame, useResource } from \"react-three-fiber\";\nimport { OpaqueInterpolation } from \"react-spring\";\nimport { isMobile } from \"is-mobile\";\n\nfunction randomRange(min: number, max: number): number {\n    const diff = max - min;\n    return Math.random() * diff + min;\n}\n\nfunction Particle({ geometry, material }: any) {\n    let ref = useRef<THREE.Mesh>();\n\n    let x = randomRange(-50, 50);\n    let y = randomRange(-140, 100);\n    let z = randomRange(-50, 50);\n\n    let d = Math.sqrt(x * x + z * z);\n    const r = 30;\n    if (d < r) {\n        x *= r / d;\n        z *= r / d;\n        d = 30;\n    }\n\n    const size = isMobile() ? 18 : 12;\n\n    useEffect(() => {\n        if (ref.current === undefined) {\n            return;\n        }\n\n        const sx = Math.random() * size;\n        const sy = Math.random() * size;\n        const sz = Math.random() * size;\n        ref.current.scale.set(sx, sy, sz);\n\n        const a = Math.floor(sx * 900) * Math.PI * 0.5;\n        ref.current.rotation.set(a, a, a);\n\n        ref.current.position.set(x, y, z);\n    }, [size, x, y, z]);\n\n    return <mesh ref={ref} material={material} geometry={geometry} />;\n}\n\ntype FragmentsProps = {\n    count: number;\n    scroll: OpaqueInterpolation<number>;\n};\n\nfunction Fragments({ count, scroll }: FragmentsProps) {\n    const groupRef = useRef<THREE.Group>();\n    const [geometryRef, geometry] = useResource();\n    const [materialRef, material] = useResource();\n\n    useFrame(() => {\n        if (groupRef.current === undefined) {\n            return;\n        }\n        if (typeof window === \"undefined\") {\n            return;\n        }\n\n        const s = scroll.getValue();\n        groupRef.current.position.set(0, s * 100 - 50, 0);\n        groupRef.current.rotation.set(0, Date.now() / 8000 + s * 5, 0);\n    });\n\n    return (\n        <>\n            <boxBufferGeometry ref={geometryRef} args={[0.00001, 1, 1]} />\n            <meshDepthMaterial ref={materialRef} />\n            <group ref={groupRef}>\n                {geometry &&\n                    new Array(count)\n                        .fill(0)\n                        .map((_, index) => (\n                            <Particle\n                                key={index}\n                                material={material}\n                                geometry={geometry}\n                            />\n                        ))}\n            </group>\n        </>\n    );\n}\n\nexport default Fragments;\n","import React, { useRef, useEffect } from \"react\";\nimport { extend, useThree, useFrame } from \"react-three-fiber\";\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\nimport { FXAAShader } from \"three/examples/jsm/shaders/FXAAShader\";\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\n\nextend({\n    EffectComposer,\n    ShaderPass,\n    RenderPass\n});\n\nexport default function Effects() {\n    const composer = useRef<EffectComposer>();\n    const { scene, gl, size, camera } = useThree();\n\n    useEffect(() => {\n        if (composer.current === undefined) {\n            return;\n        }\n\n        composer.current.setSize(size.width, size.height);\n    }, [size]);\n\n    useFrame(() => {\n        if (composer.current === undefined) {\n            return;\n        }\n\n        composer.current.render();\n    }, 2);\n\n    return (\n        <effectComposer ref={composer} args={[gl]}>\n            <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\n            <shaderPass\n                attachArray=\"passes\"\n                args={[FXAAShader]}\n                material-uniforms-resolution-value={[\n                    1 / size.width,\n                    1 / size.height\n                ]}\n                renderToScreen\n            />\n        </effectComposer>\n    );\n}\n","import React, { useEffect, useCallback } from \"react\";\nimport { Canvas, useFrame, useThree } from \"react-three-fiber\";\nimport { useSpring } from \"react-spring\";\nimport { isMobile } from \"is-mobile\";\nimport * as THREE from \"three\";\nimport Triangle from \"./gl/Triangle\";\nimport Fragments from \"./gl/Fragments\";\nimport Effects from \"./gl/Effects\";\n\nconst canvasStyle = {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    width: \"100vw\",\n    height: \"100vh\",\n    zIndex: -1,\n    pointerEvents: \"none\"\n};\n\nfunction Bg() {\n    const { scene, camera } = useThree();\n    scene.background = new THREE.Color(0x222222);\n\n    const [{ scroll }, set] = useSpring(() => ({ scroll: 0 }));\n    const onScroll = useCallback(e => set({ scroll: window.scrollY }), [set]);\n\n    const top = scroll.interpolate(x => {\n        if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n            return 0;\n        }\n        return x / (document.body.scrollHeight - window.innerHeight);\n    });\n\n    useEffect(() => {\n        if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n            return;\n        }\n\n        window.addEventListener(\"scroll\", onScroll);\n\n        return () => {\n            window.removeEventListener(\"scroll\", onScroll);\n        };\n    }, [onScroll]);\n\n    useFrame(() => {\n        const s = top.getValue();\n        camera.rotation.set(-Math.PI * 0.1 - s * Math.PI * 0.4, 0, 0);\n    });\n\n    return (\n        <>\n            {/*<Triangle scroll={top} />*/}\n            <Fragments count={isMobile() ? 800 : 1500} scroll={top} />\n        </>\n    );\n}\n\nexport default () => (\n    <Canvas style={canvasStyle as any}>\n        <Effects />\n        <Bg />\n    </Canvas>\n);\n","import React, { useState, useEffect } from \"react\";\nimport \"./Frame.css\";\n\nconst colors = [\"#00FFEE\"];\n\ntype Props = {\n    interval?: number;\n};\n\nconst Frame2: React.FC<Props> = (props: Props) => {\n    const [borderColor, setBorderColor] = useState(\"#00FFEE\");\n    const [boxShadow, setBoxShadow] = useState(\"inset 0 0 0px #00FFEE\");\n    const interval = props.interval || 5000;\n\n    useEffect(() => {\n        let count = 0;\n        const id = setInterval(() => {\n            const color = colors[count++ % colors.length];\n            setBorderColor(color);\n            setBoxShadow(`inset 0 0 0px ${color}`);\n        }, interval);\n\n        return () => {\n            clearInterval(id);\n        };\n    }, [interval]);\n\n    return <div className=\"Frame\" style={{ borderColor, boxShadow }}></div>;\n};\n\nexport default Frame2;\n","import React from \"react\";\nimport LazyLoad from \"react-lazyload\";\nimport * as VFX from \"react-vfx\";\nimport \"./ExamplesSection.css\";\n//import ImageMapper from \"react-image-mapper\";\nimport { ImageMap, Area } from \"@qiuz/react-image-map\";\n\ninterface AreaType extends Area {\n    href?: string;\n}\n\nconst onMapClick = (area: AreaType, index: number) => {\n    const tip = `click map${area.href || index + 1}`;\n    console.log(tip);\n    window.location.replace(links[index]);\n};\n\nconst img = '/text-01.svg';\n\nconst mapArea = [\n    {\"left\":\"4%\",\"top\":\"50%\",\"height\":\"10%\",\"width\":\"10%\"},\n    {\"left\":\"30%\",\"top\":\"33%\",\"height\":\"10%\",\"width\":\"10%\"},\n    {\"left\":\"21%\",\"top\":\"25%\",\"height\":\"10%\",\"width\":\"10%\"},\n    {\"left\":\"42%\",\"top\":\"60%\",\"height\":\"10%\",\"width\":\"10%\"},\n    {\"left\":\"50%\",\"top\":\"56%\",\"height\":\"10%\",\"width\":\"10%\"},\n    {\"left\":\"55%\",\"top\":\"57%\",\"height\":\"10%\",\"width\":\"10%\"},\n    {\"left\":\"50%\",\"top\":\"33%\",\"height\":\"10%\",\"width\":\"10%\"},\n\n    {\"left\":\"57%\",\"top\":\"30%\",\"height\":\"10%\",\"width\":\"10%\"},\n    {\"left\":\"70%\",\"top\":\"28%\",\"height\":\"10%\",\"width\":\"10%\"},\n\n    {\"left\":\"73%\",\"top\":\"31%\",\"height\":\"10%\",\"width\":\"10%\"},\n\n    {\"left\":\"78%\",\"top\":\"29%\",\"height\":\"10%\",\"width\":\"10%\"},\n\n    {\"left\":\"82%\",\"top\":\"43%\",\"height\":\"10%\",\"width\":\"10%\"}\n];\n\nconst links = [\n    \"https://perspectivebfa.com/designers/Anika-Pelle\",\n    \"https://perspectivebfa.com/designers/Catalina-Bravo\",\n    \"https://perspectivebfa.com/designers/Andrea-Martinez\",\n    \"https://perspectivebfa.com/designers/Daniela-Diaz\",\n    \"https://perspectivebfa.com/designers/Dominique-Northecide\",\n    \"https://perspectivebfa.com/designers/Jeremy-D'Elia\",\n    \"https://perspectivebfa.com/designers/Diana-Zuniga\",\n\n    \"https://perspectivebfa.com/designers/Gino-Castellanos\",\n\n    \"https://perspectivebfa.com/designers/Jessica-Reyes\",\n\n    \"https://perspectivebfa.com/designers/Jessica-Love\",\n    \"https://perspectivebfa.com/designers/Joshua-Nolan\",\n\n    \"https://perspectivebfa.com/designers/Regina-Dante\"\n\n\n];\n\nconst ExamplesSection: React.FC = () => {\n    return (\n        <section className=\"ExamplesSection\">\n            <section>\n                <div>\n                    <ImageMap\n                        className=\"usage-map\"\n                        src={img}\n                        map={mapArea}\n                        onMapClick={onMapClick}\n                    />\n                </div>\n            </section>\n\n            <section>\n                <VFX.VFXImg shader=\"warpTransition\" src=\"/love.png\" />\n                <br />\n                <VFX.VFXImg shader=\"slitScanTransition\" src=\"/love.png\" />\n                <br />\n                <VFX.VFXImg shader=\"pixelateTransition\" src=\"/love.png\" />\n                <br />\n            </section>\n        </section>\n    );\n};\n\nexport default ExamplesSection;","import React from \"react\";\nimport * as VFX from \"react-vfx\";\nimport dedent from \"dedent\";\nimport Bg from \"./Bg\";\nimport Frame from \"./dom/Frame\";\nimport LogoSection from \"./dom/LogoSection\";\nimport IntroSection from \"./dom/IntroSection\";\nimport ExamplesSection from \"./dom/ExamplesSection\";\nimport InputSection from \"./dom/InputSection\";\nimport AuthorSection from \"./dom/AuthorSection\";\nimport { Code, InlineCode } from \"./dom/Code\";\nimport \"./App.css\";\n\nconst blink = `\nuniform vec2 resolution; // Resolution of the element\nuniform vec2 offset;     // Position of the element in the screen\nuniform float time;      // Time passed since mount\nuniform sampler2D src;   // Input texture\nvoid main() {\n    // Get UV in the element\n    vec2 uv = (gl_FragCoord.xy - offset) / resolution;\n    gl_FragColor = texture2D(src, uv) * step(.5, fract(time));\n}\n`;\n\nconst fadeIn = `\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float time;\nuniform float enterTime; // Time since entering the viewport\nuniform sampler2D src;\nvoid main() {\n    vec2 uv = (gl_FragCoord.xy - offset) / resolution;\n    gl_FragColor = texture2D(src, uv);\n    // Fade alpha by enterTime\n    gl_FragColor.a *= smoothstep(0.0, 3.0, enterTime);\n}\n`;\n\nconst scrollByScroll = `\nuniform vec2 resolution;\nuniform vec2 offset;\nuniform float scroll; // custom uniform passed as React props\nuniform sampler2D src;\nvoid main() {\n    vec2 uv = (gl_FragCoord.xy - offset) / resolution;\n    // scroll X by scroll\n    uv.x = fract(uv.x + scroll * 30.);\n    gl_FragColor = texture2D(src, uv);\n}\n`;\n\nconst App: React.FC = () => {\n    return (\n        <VFX.VFXProvider pixelRatio={1}>\n            <Bg />\n            <div className=\"App\">\n                <Frame />\n                <ExamplesSection />\n            </div>\n        </VFX.VFXProvider>\n    );\n};\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport vhCheck from \"vh-check\";\nvhCheck();\n\n// Print build timestamp\nif (process.env.REACT_APP_BUILD_TIMESTAMP) {\n    console.log(\">> Build timestamp:\", process.env.REACT_APP_BUILD_TIMESTAMP);\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}